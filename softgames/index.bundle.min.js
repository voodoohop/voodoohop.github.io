!function(t){var e={};function i(n){if(e[n])return e[n].exports;var r=e[n]={i:n,l:!1,exports:{}};return t[n].call(r.exports,r,r.exports,i),r.l=!0,r.exports}i.m=t,i.c=e,i.d=function(t,e,n){i.o(t,e)||Object.defineProperty(t,e,{configurable:!1,enumerable:!0,get:n})},i.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p="",i(i.s=3)}([function(t,e,i){"use strict";function n(t){for(var i in t)e.hasOwnProperty(i)||(e[i]=t[i])}Object.defineProperty(e,"__esModule",{value:!0}),n(i(6)),n(i(25)),n(i(26))},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=Object.prototype.hasOwnProperty;function r(t){return"function"==typeof t}function s(t){return void 0===t}function a(t){return"[object String]"===Object.prototype.toString.call(t)}e.has=function(t,e){return n.call(t,e)},e.defaultCompare=function(t,e){return t<e?-1:t===e?0:1},e.defaultEquals=function(t,e){return t===e},e.defaultToString=function(t){return null===t?"COLLECTION_NULL":s(t)?"COLLECTION_UNDEFINED":a(t)?"$s"+t:"$o"+t.toString()},e.makeString=function(t,i){if(void 0===i&&(i=","),null===t)return"COLLECTION_NULL";if(s(t))return"COLLECTION_UNDEFINED";if(a(t))return t.toString();var n="{",r=!0;for(var o in t)e.has(t,o)&&(r?r=!1:n+=i,n=n+o+":"+t[o]);return n+"}"},e.isFunction=r,e.isUndefined=s,e.isString=a,e.reverseCompareFunction=function(t){return s(t)||!r(t)?function(t,e){return t<e?1:t===e?0:-1}:function(e,i){return-1*t(e,i)}},e.compareToEquals=function(t){return function(e,i){return 0===t(e,i)}}},function(t,e,i){"use strict";var n=Object.prototype.hasOwnProperty,r="~";function s(){}function a(t,e,i,n,s){if("function"!=typeof i)throw new TypeError("The listener must be a function");var a=new function(t,e,i){this.fn=t,this.context=e,this.once=i||!1}(i,n||t,s),o=r?r+e:e;return t._events[o]?t._events[o].fn?t._events[o]=[t._events[o],a]:t._events[o].push(a):(t._events[o]=a,t._eventsCount++),t}function o(t,e){0==--t._eventsCount?t._events=new s:delete t._events[e]}function l(){this._events=new s,this._eventsCount=0}Object.create&&(s.prototype=Object.create(null),(new s).__proto__||(r=!1)),l.prototype.eventNames=function(){var t,e,i=[];if(0===this._eventsCount)return i;for(e in t=this._events)n.call(t,e)&&i.push(r?e.slice(1):e);return Object.getOwnPropertySymbols?i.concat(Object.getOwnPropertySymbols(t)):i},l.prototype.listeners=function(t){var e=r?r+t:t,i=this._events[e];if(!i)return[];if(i.fn)return[i.fn];for(var n=0,s=i.length,a=new Array(s);n<s;n++)a[n]=i[n].fn;return a},l.prototype.listenerCount=function(t){var e=r?r+t:t,i=this._events[e];return i?i.fn?1:i.length:0},l.prototype.emit=function(t,e,i,n,s,a){var o=r?r+t:t;if(!this._events[o])return!1;var l,h,u=this._events[o],c=arguments.length;if(u.fn){switch(u.once&&this.removeListener(t,u.fn,void 0,!0),c){case 1:return u.fn.call(u.context),!0;case 2:return u.fn.call(u.context,e),!0;case 3:return u.fn.call(u.context,e,i),!0;case 4:return u.fn.call(u.context,e,i,n),!0;case 5:return u.fn.call(u.context,e,i,n,s),!0;case 6:return u.fn.call(u.context,e,i,n,s,a),!0}for(h=1,l=new Array(c-1);h<c;h++)l[h-1]=arguments[h];u.fn.apply(u.context,l)}else{var p,d=u.length;for(h=0;h<d;h++)switch(u[h].once&&this.removeListener(t,u[h].fn,void 0,!0),c){case 1:u[h].fn.call(u[h].context);break;case 2:u[h].fn.call(u[h].context,e);break;case 3:u[h].fn.call(u[h].context,e,i);break;case 4:u[h].fn.call(u[h].context,e,i,n);break;default:if(!l)for(p=1,l=new Array(c-1);p<c;p++)l[p-1]=arguments[p];u[h].fn.apply(u[h].context,l)}}return!0},l.prototype.on=function(t,e,i){return a(this,t,e,i,!1)},l.prototype.once=function(t,e,i){return a(this,t,e,i,!0)},l.prototype.removeListener=function(t,e,i,n){var s=r?r+t:t;if(!this._events[s])return this;if(!e)return o(this,s),this;var a=this._events[s];if(a.fn)a.fn!==e||n&&!a.once||i&&a.context!==i||o(this,s);else{for(var l=0,h=[],u=a.length;l<u;l++)(a[l].fn!==e||n&&!a[l].once||i&&a[l].context!==i)&&h.push(a[l]);h.length?this._events[s]=1===h.length?h[0]:h:o(this,s)}return this},l.prototype.removeAllListeners=function(t){var e;return t?(e=r?r+t:t,this._events[e]&&o(this,e)):(this._events=new s,this._eventsCount=0),this},l.prototype.off=l.prototype.removeListener,l.prototype.addListener=l.prototype.on,l.prefixed=r,l.EventEmitter=l,t.exports=l},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),i(4);i(5).SoftgamesApp()},function(t,e){},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(0),r=i(27);i(33);var s=i(34),a=i(35),o=i(36);e.SoftgamesApp=function(){var t=n.Dom.getElementOrCreateNew("app-canvas","canvas",document.getElementById("app-root")),e=document.getElementById("cardsToggle"),i=document.getElementById("fireToggle"),l=document.getElementById("imageTextToggle"),h=document.getElementById("fullscreenToggle"),u=null,c=null,p=null;e.onclick=function(){e.checked?c=s.default(f):c&&c()},i.onclick=function(){i.checked?u=o.default(f):u&&u()},l.onclick=function(){l.checked?p=a.drawRandomTextWithImages(f.stage):p&&p()},h.onclick=function(){h.checked?document.getElementById("app-root").requestFullscreen():document.exitFullscreen()};var d={width:500,height:500,scale:"keep-aspect-ratio",align:"middle",resolution:window.devicePixelRatio,roundPixels:!0,transparent:!1,backgroundColor:0,view:t,showFPS:!0,changeOrientation:!0},f=new n.PixiAppWrapper(d),g=[{id:"card",url:"assets/gfx/cardbacksmall.png",priority:r.AssetPriority.HIGH,type:"texture"},{id:"candies",url:"assets/gfx/candies.json",priority:r.AssetPriority.LOWEST,type:"atlas"},{id:"flame",url:"assets/gfx/flame.json",priority:r.AssetPriority.LOWEST,type:"atlas"}],y=new r.PixiAssetsLoader;y.on(r.PixiAssetsLoader.PRIORITY_GROUP_LOADED,function(t){!function(t){switch(t){case r.AssetPriority.HIGH:c=s.default(f),e.disabled=!1;break;case r.AssetPriority.LOWEST:i.disabled=!1,l.disabled=!1}}(t.priority)}),y.addAssets(g).load(),new PIXI.TextStyle({fontFamily:"Verdana",fontSize:24,fill:"#FFFFFF",wordWrap:!0,wordWrapWidth:440})}},function(t,e,i){"use strict";var n,r=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var s=i(2);i(7);var a=i(0);i(8);var o=i(9),l=i(10),h=i(11),u=i(13),c=i(14),p=i(15),d=i(16),f=i(17),g=i(18),y=i(19),m=i(20),v=i(21),_=i(22),x=i(23),P=i(24),w=function(t){function e(e){var i=t.call(this)||this;return i.defaultScaleMethod="none",i.defaultAlignMethod="top-left",i.defaultOptions={width:800,height:600,scale:i.defaultScaleMethod,align:i.defaultAlignMethod,showFPS:!1,showMediaInfo:!1},i.fpsmeterOptions={theme:"transparent",heat:1,graph:1,history:20,zIndex:100},e||(e=i.defaultOptions),i.resizing=!1,i.mediaInfoViewer=new h.MediaInfoViewer,i.app=new o.Application(e),i.app.stage=new o.display.Stage,i.configure(e),i.ticker.add(i.resize.bind(i)),i.appOptions=e,i}return r(e,t),e.toggleFulscreen=function(t){var e=t||document.documentElement;l.enabled&&l.toggle(e)},Object.defineProperty(e.prototype,"initialHeight",{get:function(){return this.height},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"initialWidth",{get:function(){return this.width},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"stage",{get:function(){return this.app.stage},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"ticker",{get:function(){return this.app.ticker},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"renderer",{get:function(){return this.app.renderer},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"screen",{get:function(){return this.app.screen},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"view",{get:function(){return this.app.view},enumerable:!0,configurable:!0}),e.prototype.getMediaInfo=function(){return{display:{screen:{width:this.screen.width,height:this.screen.height},view:{width:this.view.clientWidth,height:this.view.clientHeight},stage:{x:this.stage.x,y:this.stage.y,initialWidth:this.initialWidth,initialHeight:this.initialHeight,currentWidth:Math.ceil(this.initialWidth*this.stage.scale.x),currentHeight:Math.ceil(this.initialHeight*this.stage.scale.y),scaleX:this.stage.scale.x.toFixed(2),scaleY:this.stage.scale.y.toFixed(2),scaling:this.appOptions.scale?this.appOptions.scale.valueOf():this.defaultScaleMethod,alignment:this.appOptions.align?this.appOptions.align.valueOf():this.defaultAlignMethod,orientation:this.landscape?"landscape":"portrait"}}}},e.prototype.configure=function(t){switch(this.width=t.width,this.height=t.height,this.landscape=this.width>=this.height,t.align){case"top-center":this.alignStrategy=new y.AlignTopCenter;break;case"top-right":this.alignStrategy=new v.AlignTopRight;break;case"middle-left":this.alignStrategy=new f.AlignMiddleLeft;break;case"middle":this.alignStrategy=new d.AlignMiddle;break;case"middle-right":this.alignStrategy=new g.AlignMiddleRight;break;case"bottom-left":this.alignStrategy=new c.AlignBottomLeft;break;case"bottom-center":this.alignStrategy=new u.AlignBottomCenter;break;case"bottom-right":this.alignStrategy=new p.AlignBottomRight;break;default:this.alignStrategy=new m.AlignTopLeft}switch(t.scale){case"keep-aspect-ratio":this.scaleStrategy=new x.ScaleKeepAspectRatio;break;case"full-size":this.scaleStrategy=new _.ScaleFullSize;break;default:this.scaleStrategy=new P.ScaleNone}t.showFPS&&this.createFPSmeter(),t.showMediaInfo||this.mediaInfoViewer.hide(),t.view||document.body.appendChild(this.app.view)},e.prototype.createFPSmeter=function(){this.fpsmeter=new FPSMeter(a.Dom.getElementOrBody("fps-meter"),this.fpsmeterOptions),this.ticker.add(this.fpsmeter.tick),this.fpsmeter.show()},e.prototype.resize=function(){var t=this.renderer.options.resolution||1,e=Math.floor(this.view.clientWidth*t),i=Math.floor(this.view.clientHeight*t);if(!this.resizing&&(this.view.width!==e||this.view.height!==i)){this.resizing=!0,this.emit(a.pixiAppWrapperEvent.RESIZE_START),this.renderer.resize(this.view.clientWidth,this.view.clientHeight);var n=this.orientate();this.scale(),this.align(),this.mediaInfoViewer.update(this.getMediaInfo()),this.resizing=!1,this.emit(a.pixiAppWrapperEvent.RESIZE_END,{stage:{position:{x:this.stage.position.x,y:this.stage.position.y},scale:{x:this.stage.scale.x,y:this.stage.scale.y},size:{width:this.initialWidth*this.stage.scale.x,height:this.initialHeight*this.stage.scale.y},orientation:{landscape:this.landscape,changed:n}},view:{width:this.view.width,height:this.view.height}})}},e.prototype.orientate=function(){var t=!1;return this.appOptions.changeOrientation&&(this.landscape&&this.view.clientHeight>this.view.clientWidth?(t=!0,this.landscape=!1,this.swapSize()):!this.landscape&&this.view.clientWidth>this.view.clientHeight&&(t=!0,this.landscape=!0,this.swapSize())),t},e.prototype.swapSize=function(){var t=this.width;this.width=this.height,this.height=t},e.prototype.scale=function(){var t=this.scaleStrategy.scale(this.initialWidth,this.initialHeight,this.view.clientWidth,this.view.clientHeight),e=t.scaleX,i=t.scaleY;this.stage.scale.set(e,i)},e.prototype.align=function(){var t=this.alignStrategy.align(this.initialWidth*this.stage.scale.x,this.initialHeight*this.stage.scale.y,this.view.clientWidth,this.view.clientHeight),e=t.x,i=t.y;this.stage.position.set(e,i)},e}(s);e.PixiAppWrapper=w},function(t,e){!function(t,e){"use strict";function i(t){return document.createElement(t)}function n(t,e){for(var i in e)try{t.style[i]=e[i]}catch(t){}return t}function r(t){return null==t?String(t):"object"==typeof t||"function"==typeof t?Object.prototype.toString.call(t).match(/\s([a-z]+)/i)[1].toLowerCase()||"object":typeof t}function s(t,e){if("array"!==r(e))return-1;if(e.indexOf)return e.indexOf(t);for(var i=0,n=e.length;i<n;i++)if(e[i]===t)return i;return-1}function a(){var t=arguments;for(var e in t[1])if(t[1].hasOwnProperty(e))switch(r(t[1][e])){case"object":t[0][e]=a({},t[0][e],t[1][e]);break;case"array":t[0][e]=t[1][e].slice(0);break;default:t[0][e]=t[1][e]}return t.length>2?a.apply(null,[t[0]].concat(Array.prototype.slice.call(t,2))):t[0]}function o(t){return 1===(t=Math.round(255*t).toString(16)).length?"0"+t:t}function l(t,e,i,n){t.addEventListener?t[n?"removeEventListener":"addEventListener"](e,i,!1):t.attachEvent&&t[n?"detachEvent":"attachEvent"]("on"+e,i)}var h;!function(){var e=t.performance;if(e&&(e.now||e.webkitNow)){var i=e.now?"now":"webkitNow";h=e[i].bind(e)}else h=function(){return+new Date}}();var u=t.cancelAnimationFrame||t.cancelRequestAnimationFrame,c=t.requestAnimationFrame;!function(){for(var e=["moz","webkit","o"],i=0,n=0,r=e.length;n<r&&!u;++n)u=t[e[n]+"CancelAnimationFrame"]||t[e[n]+"CancelRequestAnimationFrame"],c=u&&t[e[n]+"RequestAnimationFrame"];u||(c=function(e){var n=h(),r=Math.max(0,16-(n-i));return i=n+r,t.setTimeout(function(){e(n+r)},r)},u=function(t){clearTimeout(t)})}();var p="string"===r(document.createElement("div").textContent)?"textContent":"innerText";function d(t,y){"object"===r(t)&&t.nodeType===e&&(y=t,t=document.body),t||(t=document.body);var m,v,_,x,P,w,b,S,O,I=this,L=a({},d.defaults,y||{}),C={},R=[],A=100,E=[],M=L.threshold,T=0,k=h()-M,j=[],D=[],F="fps"===L.show;function z(t,e,i,n){return v[0|t][Math.round(Math.min((e-i)/(n-i)*A,A))]}function B(){C.legend.fps!==F&&(C.legend.fps=F,C.legend[p]=F?"FPS":"ms"),b=F?I.fps:I.duration,C.count[p]=b>999?"999+":b.toFixed(b>99?0:L.decimals)}function X(){if(_=h(),k<_-L.threshold&&(I.fps-=I.fps/Math.max(1,60*L.smoothing/L.interval),I.duration=1e3/I.fps),function(){for(S=L.history;S--;)j[S]=0===S?I.fps:j[S-1],D[S]=0===S?I.duration:D[S-1]}(),B(),L.heat){if(E.length)for(S=E.length;S--;)E[S].el.style[m[E[S].name].heatOn]=F?z(m[E[S].name].heatmap,I.fps,0,L.maxFps):z(m[E[S].name].heatmap,I.duration,L.threshold,0);if(C.graph&&m.column.heatOn)for(S=R.length;S--;)R[S].style[m.column.heatOn]=F?z(m.column.heatmap,j[S],0,L.maxFps):z(m.column.heatmap,D[S],L.threshold,0)}if(C.graph)for(O=0;O<L.history;O++)R[O].style.height=(F?j[O]?Math.round(w/L.maxFps*Math.min(j[O],L.maxFps)):0:D[O]?Math.round(w/L.threshold*Math.min(D[O],L.threshold)):0)+"px"}function W(){L.interval<20?(x=c(W),X()):(x=setTimeout(W,L.interval),P=c(X))}function G(t){(t=t||window.event).preventDefault?(t.preventDefault(),t.stopPropagation()):(t.returnValue=!1,t.cancelBubble=!0),I.toggle()}function U(){L.toggleOn&&l(C.container,L.toggleOn,G,1),t.removeChild(C.container)}function N(){for(var e in C.container&&U(),function(){if(m=d.theme[L.theme],!(v=m.compiledHeatmaps||[]).length&&m.heatmaps.length){for(O=0;O<m.heatmaps.length;O++)for(v[O]=[],S=0;S<=A;S++)v[O][S]=(t=.33/A*S,e=m.heatmaps[O].saturation,i=m.heatmaps[O].lightness,n=void 0,r=void 0,s=void 0,a=void 0,l=void 0,h=void 0,u=void 0,0==(a=i<=.5?i*(1+e):i+e-i*e)?"#000":(u=a*((a-(l=2*i-a))/a)*((t*=6)-(h=Math.floor(t))),0===h||6===h?(n=a,r=l+u,s=l):1===h?(n=a-u,r=a,s=l):2===h?(n=l,r=a,s=l+u):3===h?(n=l,r=a-u,s=a):4===h?(n=l+u,r=l,s=a):(n=a,r=l,s=a-u),"#"+o(n)+o(r)+o(s)));m.compiledHeatmaps=v}var t,e,i,n,r,s,a,l,h,u}(),C.container=n(i("div"),m.container),C.count=C.container.appendChild(n(i("div"),m.count)),C.legend=C.container.appendChild(n(i("div"),m.legend)),C.graph=L.graph?C.container.appendChild(n(i("div"),m.graph)):0,E.length=0,C)C[e]&&m[e].heatOn&&E.push({name:e,el:C[e]});if(R.length=0,C.graph)for(C.graph.style.width=L.history*m.column.width+(L.history-1)*m.column.spacing+"px",S=0;S<L.history;S++)R[S]=C.graph.appendChild(n(i("div"),m.column)),R[S].style.position="absolute",R[S].style.bottom=0,R[S].style.right=S*m.column.width+S*m.column.spacing+"px",R[S].style.width=m.column.width+"px",R[S].style.height="0px";q(),B(),t.appendChild(C.container),C.graph&&(w=C.graph.clientHeight),L.toggleOn&&("click"===L.toggleOn&&(C.container.style.cursor="pointer"),l(C.container,L.toggleOn,G))}function q(){n(C.container,L)}I.options=L,I.fps=0,I.duration=0,I.isPaused=0,I.tickStart=function(){T=h()},I.tick=function(){_=h(),M+=(_-k-M)/L.smoothing,I.fps=1e3/M,I.duration=T<k?M:_-T,k=_},I.pause=function(){return x&&(I.isPaused=1,clearTimeout(x),u(x),u(P),x=P=0),I},I.resume=function(){return x||(I.isPaused=0,W()),I},I.set=function(t,e){return L[t]=e,F="fps"===L.show,-1!==s(t,f)&&N(),-1!==s(t,g)&&q(),I},I.showDuration=function(){return I.set("show","ms"),I},I.showFps=function(){return I.set("show","fps"),I},I.toggle=function(){return I.set("show",F?"ms":"fps"),I},I.hide=function(){return I.pause(),C.container.style.display="none",I},I.show=function(){return I.resume(),C.container.style.display="block",I},I.destroy=function(){I.pause(),U(),I.tick=I.tickStart=function(){}},N(),W()}d.extend=a,window.FPSMeter=d,d.defaults={interval:100,smoothing:10,show:"fps",toggleOn:"click",decimals:1,maxFps:60,threshold:100,position:"absolute",zIndex:10,left:"5px",top:"5px",right:"auto",bottom:"auto",margin:"0 0 0 0",theme:"dark",heat:0,graph:0,history:20};var f=["toggleOn","theme","heat","graph","history"],g=["position","zIndex","left","top","right","bottom","margin"]}(window),function(t,e,i){"use strict";e.theme={};var n=e.theme.base={heatmaps:[],container:{heatOn:null,heatmap:null,padding:"5px",minWidth:"95px",height:"30px",lineHeight:"30px",textAlign:"right",textShadow:"none"},count:{heatOn:null,heatmap:null,position:"absolute",top:0,right:0,padding:"5px 10px",height:"30px",fontSize:"24px",fontFamily:"Consolas, Andale Mono, monospace",zIndex:2},legend:{heatOn:null,heatmap:null,position:"absolute",top:0,left:0,padding:"5px 10px",height:"30px",fontSize:"12px",lineHeight:"32px",fontFamily:"sans-serif",textAlign:"left",zIndex:2},graph:{heatOn:null,heatmap:null,position:"relative",boxSizing:"padding-box",MozBoxSizing:"padding-box",height:"100%",zIndex:1},column:{width:4,spacing:1,heatOn:null,heatmap:null}};e.theme.dark=e.extend({},n,{heatmaps:[{saturation:.8,lightness:.8}],container:{background:"#222",color:"#fff",border:"1px solid #1a1a1a",textShadow:"1px 1px 0 #222"},count:{heatOn:"color"},column:{background:"#3f3f3f"}}),e.theme.light=e.extend({},n,{heatmaps:[{saturation:.5,lightness:.5}],container:{color:"#666",background:"#fff",textShadow:"1px 1px 0 rgba(255,255,255,.5), -1px -1px 0 rgba(255,255,255,.5)",boxShadow:"0 0 0 1px rgba(0,0,0,.1)"},count:{heatOn:"color"},column:{background:"#eaeaea"}}),e.theme.colorful=e.extend({},n,{heatmaps:[{saturation:.5,lightness:.6}],container:{heatOn:"backgroundColor",background:"#888",color:"#fff",textShadow:"1px 1px 0 rgba(0,0,0,.2)",boxShadow:"0 0 0 1px rgba(0,0,0,.1)"},column:{background:"#777",backgroundColor:"rgba(0,0,0,.2)"}}),e.theme.transparent=e.extend({},n,{heatmaps:[{saturation:.8,lightness:.5}],container:{padding:0,color:"#fff",textShadow:"1px 1px 0 rgba(0,0,0,.5)"},count:{padding:"0 5px",height:"40px",lineHeight:"40px"},legend:{padding:"0 5px",height:"40px",lineHeight:"42px"},graph:{height:"40px"},column:{width:5,background:"#999",heatOn:"backgroundColor",opacity:.5}})}(window,FPSMeter)},function(t,e){r||(r={}),Object.assign(PIXI.Container.prototype,{renderWebGL:function(t){this._activeParentLayer&&this._activeParentLayer!=t._activeLayer||(this.visible?(this.displayOrder=t.incDisplayOrder(),this.worldAlpha<=0||!this.renderable||this.containerRenderWebGL(t)):this.displayOrder=0)},renderCanvas:function(t){this._activeParentLayer&&this._activeParentLayer!=t._activeLayer||(this.visible?(this.displayOrder=t.incDisplayOrder(),this.worldAlpha<=0||!this.renderable||this.containerRenderCanvas(t)):this.displayOrder=0)},containerRenderWebGL:PIXI.Container.prototype.renderWebGL,containerRenderCanvas:PIXI.Container.prototype.renderCanvas}),Object.assign(PIXI.DisplayObject.prototype,{parentLayer:null,_activeParentLayer:null,parentGroup:null,zOrder:0,zIndex:0,updateOrder:0,displayOrder:0,layerableChildren:!0}),PIXI.particles&&PIXI.particles.ParticleContainer?PIXI.particles.ParticleContainer.prototype.layerableChildren=!1:PIXI.ParticleContainer&&(PIXI.ParticleContainer.prototype.layerableChildren=!1);var i,n,r,s=this&&this.__extends||(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});!function(t){var e=function(t){function e(e,i){var n=t.call(this)||this;return n._activeLayer=null,n._activeStage=null,n._activeChildren=[],n._lastUpdateId=-1,n.useRenderTexture=!1,n.useDoubleBuffer=!1,n.sortPriority=0,n.clearColor=new Float32Array([0,0,0,0]),n.canDrawWithoutLayer=!1,n.canDrawInParentStage=!0,n.zIndex=0,n.enableSort=!1,n._tempResult=[],n._tempZero=[],n.useZeroOptimization=!1,n.zIndex=e,n.enableSort=!!i,"function"==typeof i&&n.on("sort",i),n}return s(e,t),e.prototype.doSort=function(t,i){if(this.listeners("sort",!0))for(var n=0;n<i.length;n++)this.emit("sort",i[n]);this.useZeroOptimization?this.doSortWithZeroOptimization(t,i):i.sort(e.compareZIndex)},e.compareZIndex=function(t,e){return t.zIndex!==e.zIndex?t.zIndex-e.zIndex:t.zOrder>e.zOrder?-1:t.zOrder<e.zOrder?1:t.updateOrder-e.updateOrder},e.prototype.doSortWithZeroOptimization=function(t,e){throw new Error("not implemented yet")},e.prototype.clear=function(){this._activeLayer=null,this._activeStage=null,this._activeChildren.length=0},e.prototype.addDisplayObject=function(t,e){this.check(t),e._activeParentLayer=this._activeLayer,this._activeLayer?this._activeLayer._activeChildren.push(e):this._activeChildren.push(e)},e.prototype.foundLayer=function(t,i){this.check(t),null!=this._activeLayer&&e.conflict(),this._activeLayer=i,this._activeStage=t},e.prototype.foundStage=function(t){this._activeLayer||this.canDrawInParentStage||this.clear()},e.prototype.check=function(t){if(this._lastUpdateId<e._layerUpdateId)this._lastUpdateId=e._layerUpdateId,this.clear(),this._activeStage=t;else if(this.canDrawInParentStage){for(var i=this._activeStage;i&&i!=t;)i=i._activeParentStage;if(this._activeStage=i,null==i)return void this.clear()}},e.conflict=function(){e._lastLayerConflict+5e3<Date.now()&&(e._lastLayerConflict=Date.now(),console.log("PIXI-display plugin found two layers with the same group in one stage - that's not healthy. Please place a breakpoint here and debug it"))},e._layerUpdateId=0,e._lastLayerConflict=0,e}(PIXI.utils.EventEmitter);t.Group=e}(r||(r={})),r||(r={}),n=PIXI.interaction.InteractionManager,Object.assign(n.prototype,{_queue:[[],[]],_displayProcessInteractive:function(t,e,i,n,r){if(!e||!e.visible)return 0;var s=0,a=n=e.interactive||n;e.hitArea&&(a=!1),e._activeParentLayer&&(r=!1);var o=e._mask;i<1/0&&o&&(o.containsPoint(t)||(r=!0)),i<1/0&&e.filterArea&&(e.filterArea.contains(t.x,t.y)||(r=!0));var l=e.children;if(e.interactiveChildren&&l)for(var h=l.length-1;h>=0;h--){var u=l[h],c=this._displayProcessInteractive(t,u,i,a,r);if(c){if(!u.parent)continue;s=c,i=c}}return n&&(r?e.interactive&&this._queueAdd(e,0):(i<e.displayOrder&&(e.hitArea?(e.worldTransform.applyInverse(t,this._tempPoint),e.hitArea.contains(this._tempPoint.x,this._tempPoint.y)&&(s=e.displayOrder)):e.containsPoint&&e.containsPoint(t)&&(s=e.displayOrder)),e.interactive&&this._queueAdd(e,s===1/0?0:s))),s},processInteractive:function(t,e,i,n,r){var s=null,a=null;a=t.data&&t.data.global?(s=t).data.global:t,this._startInteractionProcess(),this._displayProcessInteractive(a,e,n?0:1/0,!1),this._finishInteractionProcess(s,i)},_startInteractionProcess:function(){this._eventDisplayOrder=1,this._queue||(this._queue=[[],[]]),this._queue[0].length=0,this._queue[1].length=0},_queueAdd:function(t,e){var i=this._queue;if(e<this._eventDisplayOrder)i[0].push(t);else{if(e>this._eventDisplayOrder){this._eventDisplayOrder=e;for(var n=i[1],r=0;r<n.length;r++)i[0].push(n[r]);i[1].length=0}i[1].push(t)}},_finishInteractionProcess:function(t,e){for(var i=this._queue,n=i[0],r=0;r<n.length;r++)t?e&&e(t,n[r],!1):e(n[r],!1);for(n=i[1],r=0;r<n.length;r++)t?(t.target||(t.target=n[r]),e&&e(t,n[r],!0)):e(n[r],!0)}}),function(t){var e=function(){function t(t){this.layer=t,this.renderTexture=null,this.doubleBuffer=null,this.currentBufferIndex=0,this._tempRenderTarget=null}return t.prototype.initRenderTexture=function(t){var e=t?t.screen.width:100,i=t?t.screen.height:100,n=t?t.resolution:PIXI.settings.RESOLUTION;this.renderTexture=PIXI.RenderTexture.create(e,i,n),this.layer.group.useDoubleBuffer&&(this.doubleBuffer=[PIXI.RenderTexture.create(e,i,n),PIXI.RenderTexture.create(e,i,n)])},t.prototype.getRenderTexture=function(){return this.renderTexture||this.initRenderTexture(),this.renderTexture},t.prototype.pushTexture=function(t){var e=t.screen;this.renderTexture||this.initRenderTexture(t);var i=this.renderTexture,n=this.layer.group,r=this.doubleBuffer;if(i.width===e.width&&i.height===e.height&&i.baseTexture.resolution===t.resolution||(i.baseTexture.resolution=t.resolution,i.resize(e.width,e.height),r&&(r[0].baseTexture.resolution=t.resolution,r[0].resize(e.width,e.height),r[1].baseTexture.resolution=t.resolution,r[1].resize(e.width,e.height))),this._tempRenderTarget=t._activeRenderTarget,t.currentRenderer.flush(),n.useDoubleBuffer){var s=r[this.currentBufferIndex];s.baseTexture._glTextures[t.CONTEXT_UID]||(t.bindRenderTexture(s,null),n.clearColor&&t.clear(n.clearColor)),t.unbindTexture(i),i.baseTexture._glTextures=s.baseTexture._glTextures,i.baseTexture._glRenderTargets=s.baseTexture._glRenderTargets,this.currentBufferIndex=1-this.currentBufferIndex,s=r[this.currentBufferIndex],t.bindRenderTexture(s,null)}else t.bindRenderTexture(i,void 0);n.clearColor&&t.clear(n.clearColor)},t.prototype.popTexture=function(t){t.currentRenderer.flush(),t.bindRenderTarget(this._tempRenderTarget),this._tempRenderTarget=null},t.prototype.destroy=function(){this.renderTexture&&(this.renderTexture.destroy(),this.doubleBuffer&&(this.doubleBuffer[0].destroy(!0),this.doubleBuffer[1].destroy(!0)))},t}();t.LayerTextureCache=e;var i=function(i){function n(e){void 0===e&&(e=null);var n=i.call(this)||this;return n.isLayer=!0,n.group=null,n._activeChildren=[],n._tempChildren=null,n._activeStageParent=null,n._sortedChildren=[],n._tempLayerParent=null,n.insertChildrenBeforeActive=!0,n.insertChildrenAfterActive=!0,null!=e?(n.group=e,n.zIndex=e.zIndex):n.group=new t.Group(0,!1),n._tempChildren=n.children,n}return s(n,i),n.prototype.beginWork=function(t){var e=this._activeChildren;this._activeStageParent=t,this.group.foundLayer(t,this);var i=this.group._activeChildren;e.length=0;for(var n=0;n<i.length;n++)i[n]._activeParentLayer=this,e.push(i[n]);i.length=0},n.prototype.endWork=function(){for(var t=this.children,e=this._activeChildren,i=this._sortedChildren,n=0;n<e.length;n++)this.emit("display",e[n]);if(i.length=0,this.insertChildrenBeforeActive)for(n=0;n<t.length;n++)i.push(t[n]);for(n=0;n<e.length;n++)i.push(e[n]);if(!this.insertChildrenBeforeActive&&this.insertChildrenAfterActive)for(n=0;n<t.length;n++)i.push(t[n]);this.group.enableSort&&this.doSort()},Object.defineProperty(n.prototype,"useRenderTexture",{get:function(){return this.group.useRenderTexture},set:function(t){this.group.useRenderTexture=t},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"useDoubleBuffer",{get:function(){return this.group.useDoubleBuffer},set:function(t){this.group.useDoubleBuffer=t},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"clearColor",{get:function(){return this.group.clearColor},set:function(t){this.group.clearColor=t},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"sortPriority",{get:function(){return this.group.sortPriority},set:function(t){this.group.sortPriority=t},enumerable:!0,configurable:!0}),n.prototype.getRenderTexture=function(){return this.textureCache||(this.textureCache=new e(this)),this.textureCache.getRenderTexture()},n.prototype.updateDisplayLayers=function(){},n.prototype.doSort=function(){this.group.doSort(this,this._sortedChildren)},n.prototype._preRender=function(t){return(!this._activeParentLayer||this._activeParentLayer==t._activeLayer)&&(this.visible?(this.displayOrder=t.incDisplayOrder(),!(this.worldAlpha<=0||!this.renderable)&&(this.children!==this._sortedChildren&&this._tempChildren!=this.children&&(this._tempChildren=this.children),this._boundsID++,this.children=this._sortedChildren,this._tempLayerParent=t._activeLayer,t._activeLayer=this,!0)):(this.displayOrder=0,!1))},n.prototype._postRender=function(t){this.children=this._tempChildren,t._activeLayer=this._tempLayerParent,this._tempLayerParent=null},n.prototype.renderWebGL=function(t){this._preRender(t)&&(this.group.useRenderTexture&&(this.textureCache||(this.textureCache=new e(this)),this.textureCache.pushTexture(t)),this.containerRenderWebGL(t),this._postRender(t),this.group.useRenderTexture&&this.textureCache.popTexture(t))},n.prototype.renderCanvas=function(t){this._preRender(t)&&(this.containerRenderCanvas(t),this._postRender(t))},n.prototype.destroy=function(t){this.textureCache&&(this.textureCache.destroy(),this.textureCache=null),i.prototype.destroy.call(this,t)},n}(PIXI.Container);t.Layer=i}(r||(r={})),function(t){var e=function(e){function i(){var t=e.call(this)||this;return t.isStage=!0,t._tempGroups=[],t._activeLayers=[],t._activeParentStage=null,t}return s(i,e),i.prototype.clear=function(){this._activeLayers.length=0,this._tempGroups.length=0},i.prototype.destroy=function(t){this.clear(),e.prototype.destroy.call(this,t)},i.prototype._addRecursive=function(t){if(t.visible){if(t.isLayer){var e=t;this._activeLayers.push(e),e.beginWork(this)}if(t!=this&&t.isStage){t.updateAsChildStage(this)}else{var n=t.parentGroup;null!==n&&n.addDisplayObject(this,t);var r=t.parentLayer;if(null!==r&&(n=r.group).addDisplayObject(this,t),t.updateOrder=++i._updateOrderCounter,!(t.alpha<=0||!t.renderable||!t.layerableChildren||n&&n.sortPriority)){var s=t.children;if(s&&s.length)for(var a=0;a<s.length;a++)this._addRecursive(s[a])}}}},i.prototype._addRecursiveChildren=function(t){if(!(t.alpha<=0)&&t.renderable&&t.layerableChildren){var e=t.children;if(e&&e.length)for(var i=0;i<e.length;i++)this._addRecursive(e[i])}},i.prototype._updateStageInner=function(){this.clear(),this._addRecursive(this);for(var t=this._activeLayers,e=0;e<t.length;e++){if((r=t[e]).group.sortPriority){r.endWork();for(var i=r._sortedChildren,n=0;n<i.length;n++)this._addRecursiveChildren(i[n])}}for(e=0;e<t.length;e++){var r;(r=t[e]).group.sortPriority||r.endWork()}},i.prototype.updateAsChildStage=function(t){this._activeParentStage=t,i._updateOrderCounter=0,this._updateStageInner()},i.prototype.updateStage=function(){this._activeParentStage=null,t.Group._layerUpdateId++,this._updateStageInner()},i._updateOrderCounter=0,i}(t.Layer);t.Stage=e}(r||(r={})),r||(r={}),Object.assign(PIXI.WebGLRenderer.prototype,{_lastDisplayOrder:0,_activeLayer:null,incDisplayOrder:function(){return++this._lastDisplayOrder},_oldRender:PIXI.WebGLRenderer.prototype.render,render:function(t,e,i,n,r){e||(this._lastDisplayOrder=0),this._activeLayer=null,t.isStage&&t.updateStage(),this._oldRender(t,e,i,n,r)}}),Object.assign(PIXI.CanvasRenderer.prototype,{_lastDisplayOrder:0,_activeLayer:null,incDisplayOrder:function(){return++this._lastDisplayOrder},_oldRender:PIXI.CanvasRenderer.prototype.render,render:function(t,e,i,n,r){e||(this._lastDisplayOrder=0),this._activeLayer=null,t.isStage&&t.updateStage(),this._oldRender(t,e,i,n,r)}}),function(t){PIXI.display=t}(r||(r={}))},function(t,e){t.exports=PIXI},function(t,e){!function(){"use strict";var e="undefined"!=typeof window&&void 0!==window.document?window.document:{},i=void 0!==t&&t.exports,n="undefined"!=typeof Element&&"ALLOW_KEYBOARD_INPUT"in Element,r=function(){for(var t,i=[["requestFullscreen","exitFullscreen","fullscreenElement","fullscreenEnabled","fullscreenchange","fullscreenerror"],["webkitRequestFullscreen","webkitExitFullscreen","webkitFullscreenElement","webkitFullscreenEnabled","webkitfullscreenchange","webkitfullscreenerror"],["webkitRequestFullScreen","webkitCancelFullScreen","webkitCurrentFullScreenElement","webkitCancelFullScreen","webkitfullscreenchange","webkitfullscreenerror"],["mozRequestFullScreen","mozCancelFullScreen","mozFullScreenElement","mozFullScreenEnabled","mozfullscreenchange","mozfullscreenerror"],["msRequestFullscreen","msExitFullscreen","msFullscreenElement","msFullscreenEnabled","MSFullscreenChange","MSFullscreenError"]],n=0,r=i.length,s={};n<r;n++)if((t=i[n])&&t[1]in e){for(n=0;n<t.length;n++)s[i[0][n]]=t[n];return s}return!1}(),s={change:r.fullscreenchange,error:r.fullscreenerror},a={request:function(t){var i=r.requestFullscreen;t=t||e.documentElement,/ Version\/5\.1(?:\.\d+)? Safari\//.test(navigator.userAgent)?t[i]():t[i](n&&Element.ALLOW_KEYBOARD_INPUT)},exit:function(){e[r.exitFullscreen]()},toggle:function(t){this.isFullscreen?this.exit():this.request(t)},onchange:function(t){this.on("change",t)},onerror:function(t){this.on("error",t)},on:function(t,i){var n=s[t];n&&e.addEventListener(n,i,!1)},off:function(t,i){var n=s[t];n&&e.removeEventListener(n,i,!1)},raw:r};r?(Object.defineProperties(a,{isFullscreen:{get:function(){return Boolean(e[r.fullscreenElement])}},element:{enumerable:!0,get:function(){return e[r.fullscreenElement]}},enabled:{enumerable:!0,get:function(){return Boolean(e[r.fullscreenEnabled])}}}),i?t.exports=a:window.screenfull=a):i?t.exports=!1:window.screenfull=!1}()},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(0);i(12);var r=function(){function t(){this.createContainer()}return t.prototype.update=function(t){this.data=t,this.textContainer.innerHTML=this.getText()},t.prototype.show=function(){this.rootContainer.className=this.rootContainer.className.replace("hidden","").trim()},t.prototype.hide=function(){this.show(),this.rootContainer.className+=" hidden"},t.prototype.createContainer=function(){this.rootContainer=n.Dom.getElementOrCreateNew("media-info","div"),this.rootContainer.className="media-info";var t=document.createElement("button");t.innerHTML="[x]",t.className="media-info-close-button button",t.title="close",t.onclick=this.hide.bind(this),this.rootContainer.appendChild(t),this.textContainer=document.createElement("div"),this.rootContainer.appendChild(this.textContainer)},t.prototype.getText=function(){var t=Math.gcd(this.data.display.stage.initialWidth,this.data.display.stage.initialHeight);return"<div>[devicePixelRatio]</div><div>"+window.devicePixelRatio+"</div><div>[window.inner]</div><div>"+window.innerWidth+"x"+window.innerHeight+"</div><div>[app.screen]</div><div>"+this.data.display.screen.width+"x"+this.data.display.screen.height+"</div><div>[app.view]</div><div>"+this.data.display.view.width+"x"+this.data.display.view.height+"</div><div>[app.stage]</div><div>position ("+this.data.display.stage.x+", "+this.data.display.stage.y+")</div><div>initial "+this.data.display.stage.initialWidth+"x"+this.data.display.stage.initialHeight+" "+this.data.display.stage.initialWidth/t+":"+this.data.display.stage.initialHeight/t+"</div><div>current "+this.data.display.stage.currentWidth+"x"+this.data.display.stage.currentHeight+"</div><div>scale ("+this.data.display.stage.scaleX+", "+this.data.display.stage.scaleY+")</div><div>scaling "+this.data.display.stage.scaling+"</div><div>alignment "+this.data.display.stage.alignment+"</div><div>orientation "+this.data.display.stage.orientation+"</div>"},t}();e.MediaInfoViewer=r},function(t,e){Math.gcd||(Math.gcd=function(t,e){for(var i=0;0!==t;)i=e%t,e=t,t=i;return e})},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=function(){function t(){}return t.prototype.align=function(t,e,i,n){return{x:Math.round(i/2-t/2),y:Math.round(n-e)}},t}();e.AlignBottomCenter=n},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=function(){function t(){}return t.prototype.align=function(t,e,i,n){return{x:0,y:Math.round(n-e)}},t}();e.AlignBottomLeft=n},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=function(){function t(){}return t.prototype.align=function(t,e,i,n){return{x:Math.round(i-t),y:Math.round(n-e)}},t}();e.AlignBottomRight=n},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=function(){function t(){}return t.prototype.align=function(t,e,i,n){return{x:Math.round(i/2-t/2),y:Math.round(n/2-e/2)}},t}();e.AlignMiddle=n},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=function(){function t(){}return t.prototype.align=function(t,e,i,n){return{x:0,y:Math.round(n/2-e/2)}},t}();e.AlignMiddleLeft=n},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=function(){function t(){}return t.prototype.align=function(t,e,i,n){return{x:Math.round(i-t),y:Math.round(n/2-e/2)}},t}();e.AlignMiddleRight=n},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=function(){function t(){}return t.prototype.align=function(t,e,i,n){return{x:Math.round(i/2-t/2),y:0}},t}();e.AlignTopCenter=n},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=function(){function t(){}return t.prototype.align=function(t,e,i,n){return{x:0,y:0}},t}();e.AlignTopLeft=n},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=function(){function t(){}return t.prototype.align=function(t,e,i,n){return{x:Math.round(i-t),y:0}},t}();e.AlignTopRight=n},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=function(){function t(){}return t.prototype.scale=function(t,e,i,n){return{scaleX:i/t,scaleY:n/e}},t}();e.ScaleFullSize=n},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=function(){function t(){}return t.prototype.scale=function(t,e,i,n){var r=Math.min(i/t,n/e);return{scaleX:r,scaleY:r}},t}();e.ScaleKeepAspectRatio=n},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=function(){function t(){}return t.prototype.scale=function(t,e,i,n){return{scaleX:1,scaleY:1}},t}();e.ScaleNone=n},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.pixiAppWrapperEvent={RESIZE_START:"PixiAppWrapperEvent.RESIZE_START",RESIZE_END:"PixiAppWrapperEvent.RESIZE_END"}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=function(){function t(){}return t.getElementOrBody=function(t){var e=document.getElementById(t);return null!==e?e:document.body},t.getElementOrCreateNew=function(t,e,i){var n=document.getElementById(t);return null===n&&((n=document.createElement(e)).id=t,(i=i||document.body).appendChild(n)),n},t}();e.Dom=n},function(t,e,i){"use strict";function n(t){for(var i in t)e.hasOwnProperty(i)||(e[i]=t[i])}Object.defineProperty(e,"__esModule",{value:!0}),n(i(28)),n(i(32))},function(t,e,i){"use strict";var n,r=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var s=i(2),a=i(29),o=function(t){function e(e){var i=t.call(this)||this;return i.loader=e||PIXI.loader,i.loader.onProgress.add(i.onGenericAssetProgress.bind(i)),i.loader.onError.add(i.onGenericAssetError.bind(i)),i.loader.onLoad.add(i.onGenericAssetLoad.bind(i)),i.assetsQueue=new a.default(function(t,e){return t.priority-e.priority}),i.initLoadingQueue(),i}return r(e,t),e.prototype.isLoading=function(){return Object.keys(this.assetsLoading).length>0},e.prototype.addAsset=function(t){return this.assetsQueue.enqueue(t),this},e.prototype.addAssets=function(t){var e=this;return t.forEach(function(t){return e.addAsset(t)}),this},e.prototype.load=function(){return this.isLoading()||this.loadNextPriorityGroup(),this},e.prototype.reset=function(){return this.assetsQueue.clear(),this.initLoadingQueue(),this.loader.reset(),this},e.prototype.initLoadingQueue=function(){this.assetsLoading={},this.currentPriorityLoading=null,this.genericAssetsToLoad=0,this.genericAssetsRemaining=0,this.soundAssetsToLoad=0,this.soundAssetsRemaining=0,this.progressPercents={generic:0,sound:0,total:0}},e.prototype.onGenericAssetProgress=function(t,i){var n=t.progress-this.progressPercents.generic;this.progressPercents.generic=t.progress;var r=n*this.genericAssetsToLoad/Object.keys(this.assetsLoading).length;this.progressPercents.total+=r,this.emit(e.PRIORITY_GROUP_PROGRESS,{priority:this.currentPriorityLoading,progress:this.progressPercents.total})},e.prototype.onGenericAssetError=function(t,i,n){var r=this.assetsLoading[n.name];r&&(r.loaded=!1,r.error=t,this.emit(e.ASSET_ERROR,r))},e.prototype.onGenericAssetLoad=function(t,i){var n=this.assetsLoading[i.name];n&&(n.loaded=!0,n.error=null,this.emit(e.ASSET_LOADED,n))},e.prototype.onAllGenericAssetsComplete=function(){this.genericAssetsRemaining=0,this.checkAllAssetsLoaded()},e.prototype.onSoundAssetProgress=function(){this.soundAssetsRemaining--;var t=100*(this.soundAssetsToLoad-this.soundAssetsRemaining)/this.soundAssetsToLoad,i=t-this.progressPercents.sound;this.progressPercents.sound=t;var n=i*this.soundAssetsToLoad/Object.keys(this.assetsLoading).length;this.progressPercents.total+=n,this.emit(e.PRIORITY_GROUP_PROGRESS,{priority:this.currentPriorityLoading,progress:this.progressPercents.total})},e.prototype.onSoundAssetError=function(t,i){this.onSoundAssetProgress();var n=this.assetsLoading[t.id];n&&(n.loaded=!1,n.error=i,this.emit(e.ASSET_ERROR,n)),this.soundAssetsRemaining<=0&&this.checkAllAssetsLoaded()},e.prototype.onSoundAssetLoad=function(t){this.onSoundAssetProgress();var i=this.assetsLoading[t.id];i&&(i.loaded=!0,i.error=null,this.emit(e.ASSET_LOADED,i)),this.soundAssetsRemaining<=0&&this.checkAllAssetsLoaded()},e.prototype.loadNextPriorityGroup=function(){this.initLoadingQueue();var t=this.assetsQueue.peek();t?(this.currentPriorityLoading=t.priority,this.loadPriorityGroup()):this.emit(e.ALL_ASSETS_LOADED)},e.prototype.loadPriorityGroup=function(){for(;this.assetsQueue.peek()&&this.assetsQueue.peek().priority===this.currentPriorityLoading;){var t=this.assetsQueue.dequeue();this.assetsLoading[t.id]={asset:t,loaded:!1,error:null}}this.startLoadingAssets()},e.prototype.startLoadingAssets=function(){var t=this;Object.keys(this.assetsLoading).map(function(e){return t.assetsLoading[e]}).forEach(function(e){void 0!==e.asset.autoplay?(t.soundAssetsToLoad++,t.soundAssetsRemaining++,t.loadSoundAsset(e.asset)):(t.genericAssetsToLoad++,t.addGenericAsset(e.asset))}),this.genericAssetsRemaining=this.genericAssetsToLoad,this.loadGenericAssets()},e.prototype.loadSoundAsset=function(t){var e=this;t.howl=new Howl({src:[t.url],autoplay:t.autoplay,loop:t.loop||!1,volume:t.volume||1,mute:t.mute||!1,rate:t.rate||1,html5:t.html5||!1,onload:this.onSoundAssetLoad.bind(this,t),onloaderror:function(i,n){var r=n instanceof Error?n:new Error("Error loading sound "+t.id);e.onSoundAssetError(t,r)}})},e.prototype.addGenericAsset=function(t){this.loader.add(t.id,t.url)},e.prototype.loadGenericAssets=function(){this.genericAssetsToLoad>0?this.loader.load(this.onAllGenericAssetsComplete.bind(this)):this.checkAllAssetsLoaded()},e.prototype.checkAllAssetsLoaded=function(){var t=this;this.genericAssetsRemaining+this.soundAssetsRemaining<=0&&(this.emit(e.PRIORITY_GROUP_LOADED,{priority:this.currentPriorityLoading,assets:Object.keys(this.assetsLoading).map(function(e){return t.assetsLoading[e]}).filter(function(t){return t.loaded})}),this.loadNextPriorityGroup())},e.ASSET_LOADED="AssetsLoader.ASSET_LOADED",e.ASSET_ERROR="AssetsLoader.ASSET_ERROR",e.PRIORITY_GROUP_LOADED="AssetsLoader.PRIORITY_GROUP_LOADED",e.PRIORITY_GROUP_PROGRESS="AssetsLoader.PRIORITY_GROUP_PROGRESS",e.ALL_ASSETS_LOADED="AssetsLoader.ALL_ASSETS_LOADED",e}(s.EventEmitter);e.PixiAssetsLoader=o},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(1),r=i(30),s=function(){function t(t){this.heap=new r.default(n.reverseCompareFunction(t))}return t.prototype.enqueue=function(t){return this.heap.add(t)},t.prototype.add=function(t){return this.heap.add(t)},t.prototype.dequeue=function(){if(0!==this.heap.size()){var t=this.heap.peek();return this.heap.removeRoot(),t}},t.prototype.peek=function(){return this.heap.peek()},t.prototype.contains=function(t){return this.heap.contains(t)},t.prototype.isEmpty=function(){return this.heap.isEmpty()},t.prototype.size=function(){return this.heap.size()},t.prototype.clear=function(){this.heap.clear()},t.prototype.forEach=function(t){this.heap.forEach(t)},t}();e.default=s},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(1),r=i(31),s=function(){function t(t){this.data=[],this.compare=t||n.defaultCompare}return t.prototype.leftChildIndex=function(t){return 2*t+1},t.prototype.rightChildIndex=function(t){return 2*t+2},t.prototype.parentIndex=function(t){return Math.floor((t-1)/2)},t.prototype.minIndex=function(t,e){return e>=this.data.length?t>=this.data.length?-1:t:this.compare(this.data[t],this.data[e])<=0?t:e},t.prototype.siftUp=function(t){for(var e=this.parentIndex(t);t>0&&this.compare(this.data[e],this.data[t])>0;)r.swap(this.data,e,t),t=e,e=this.parentIndex(t)},t.prototype.siftDown=function(t){for(var e=this.minIndex(this.leftChildIndex(t),this.rightChildIndex(t));e>=0&&this.compare(this.data[t],this.data[e])>0;)r.swap(this.data,e,t),t=e,e=this.minIndex(this.leftChildIndex(t),this.rightChildIndex(t))},t.prototype.peek=function(){return this.data.length>0?this.data[0]:void 0},t.prototype.add=function(t){return!n.isUndefined(t)&&(this.data.push(t),this.siftUp(this.data.length-1),!0)},t.prototype.removeRoot=function(){if(this.data.length>0){var t=this.data[0];return this.data[0]=this.data[this.data.length-1],this.data.splice(this.data.length-1,1),this.data.length>0&&this.siftDown(0),t}},t.prototype.contains=function(t){var e=n.compareToEquals(this.compare);return r.contains(this.data,t,e)},t.prototype.size=function(){return this.data.length},t.prototype.isEmpty=function(){return this.data.length<=0},t.prototype.clear=function(){this.data.length=0},t.prototype.forEach=function(t){r.forEach(this.data,t)},t}();e.default=s},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(1);function r(t,e,i){for(var r=i||n.defaultEquals,s=t.length,a=0;a<s;a++)if(r(t[a],e))return a;return-1}e.indexOf=r,e.lastIndexOf=function(t,e,i){for(var r=i||n.defaultEquals,s=t.length-1;s>=0;s--)if(r(t[s],e))return s;return-1},e.contains=function(t,e,i){return r(t,e,i)>=0},e.remove=function(t,e,i){var n=r(t,e,i);return!(n<0||(t.splice(n,1),0))},e.frequency=function(t,e,i){for(var r=i||n.defaultEquals,s=t.length,a=0,o=0;o<s;o++)r(t[o],e)&&a++;return a},e.equals=function(t,e,i){var r=i||n.defaultEquals;if(t.length!==e.length)return!1;for(var s=t.length,a=0;a<s;a++)if(!r(t[a],e[a]))return!1;return!0},e.copy=function(t){return t.concat()},e.swap=function(t,e,i){if(e<0||e>=t.length||i<0||i>=t.length)return!1;var n=t[e];return t[e]=t[i],t[i]=n,!0},e.toString=function(t){return"["+t.toString()+"]"},e.forEach=function(t,e){for(var i=0,n=t;i<n.length;i++)if(!1===e(n[i]))return}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=function(){function t(){}return t.getPriority=function(e){return e>=t.HIGHEST?t.HIGHEST:e>=t.HIGH?t.HIGH:e>=t.NORMAL?t.NORMAL:e>=t.LOW?t.LOW:t.LOWEST},t.HIGHEST=100,t.HIGH=75,t.NORMAL=50,t.LOW=25,t.LOWEST=0,t}();e.AssetPriority=n},function(t,e,i){var n,r;r=function(){return function(){return function t(e,i,r){function s(o,l){if(!i[o]){if(!e[o]){if(!l&&"function"==typeof n&&n)return n(o,!0);if(a)return a(o,!0);var h=new Error("Cannot find module '"+o+"'");throw h.code="MODULE_NOT_FOUND",h}var u=i[o]={exports:{}};e[o][0].call(u.exports,function(t){var i=e[o][1][t];return s(i||t)},u,u.exports,t,e,i,r)}return i[o].exports}for(var a="function"==typeof n&&n,o=0;o<r.length;o++)s(r[o]);return s}}()({1:[function(t,e,i){"use strict";var n,r=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(i,"__esModule",{value:!0});var s=t("./Particle"),a=PIXI.Texture,o=function(t){function e(e){var i=t.call(this,e)||this;return i.textures=null,i.duration=0,i.framerate=0,i.elapsed=0,i.loop=!1,i}return r(e,t),e.prototype.init=function(){this.Particle_init(),this.elapsed=0,this.framerate<0&&(this.duration=this.maxLife,this.framerate=this.textures.length/this.duration)},e.prototype.applyArt=function(t){this.textures=t.textures,this.framerate=t.framerate,this.duration=t.duration,this.loop=t.loop},e.prototype.update=function(t){var e=this.Particle_update(t);if(e>=0){this.elapsed+=t,this.elapsed>this.duration&&(this.loop?this.elapsed=this.elapsed%this.duration:this.elapsed=this.duration-1e-6);var i=this.elapsed*this.framerate+1e-7|0;this.texture=this.textures[i]||PIXI.Texture.EMPTY}return e},e.prototype.destroy=function(){this.Particle_destroy(),this.textures=null},e.parseArt=function(t){for(var e,i,n,r,s,o=[],l=0;l<t.length;++l){e=t[l],o[l]=i={},i.textures=s=[],n=e.textures;for(var h=0;h<n.length;++h)if("string"==typeof(r=n[h]))s.push(a.fromImage(r));else if(r instanceof a)s.push(r);else{var u=r.count||1;for(r="string"==typeof r.texture?a.fromImage(r.texture):r.texture;u>0;--u)s.push(r)}"matchLife"==e.framerate?(i.framerate=-1,i.duration=0,i.loop=!1):(i.loop=!!e.loop,i.framerate=e.framerate>0?e.framerate:60,i.duration=s.length/i.framerate)}return o},e}(s.default);i.default=o},{"./Particle":3}],2:[function(t,e,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0});var n=t("./ParticleUtils"),r=t("./Particle"),s=t("./PropertyNode"),a=PIXI.ticker.shared,o=new PIXI.Point,l=function(){function t(t,e,i){this._particleConstructor=r.default,this.particleImages=null,this.startAlpha=null,this.startSpeed=null,this.minimumSpeedMultiplier=1,this.acceleration=null,this.maxSpeed=NaN,this.startScale=null,this.minimumScaleMultiplier=1,this.startColor=null,this.minLifetime=0,this.maxLifetime=0,this.minStartRotation=0,this.maxStartRotation=0,this.noRotation=!1,this.minRotationSpeed=0,this.maxRotationSpeed=0,this.particleBlendMode=0,this.customEase=null,this.extraData=null,this._frequency=1,this.spawnChance=1,this.maxParticles=1e3,this.emitterLifetime=-1,this.spawnPos=null,this.spawnType=null,this._spawnFunc=null,this.spawnRect=null,this.spawnCircle=null,this.particlesPerWave=1,this.particleSpacing=0,this.angleStart=0,this.rotation=0,this.ownerPos=null,this._prevEmitterPos=null,this._prevPosIsValid=!1,this._posChanged=!1,this._parent=null,this.addAtBack=!1,this.particleCount=0,this._emit=!1,this._spawnTimer=0,this._emitterLife=-1,this._activeParticlesFirst=null,this._activeParticlesLast=null,this._poolFirst=null,this._origConfig=null,this._origArt=null,this._autoUpdate=!1,this._destroyWhenComplete=!1,this._completeCallback=null,this.parent=t,e&&i&&this.init(e,i),this.recycle=this.recycle,this.update=this.update,this.rotate=this.rotate,this.updateSpawnPos=this.updateSpawnPos,this.updateOwnerPos=this.updateOwnerPos}return Object.defineProperty(t.prototype,"frequency",{get:function(){return this._frequency},set:function(t){this._frequency="number"==typeof t&&t>0?t:1},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"particleConstructor",{get:function(){return this._particleConstructor},set:function(t){if(t!=this._particleConstructor){this._particleConstructor=t,this.cleanup();for(var e=this._poolFirst;e;e=e.next)e.destroy();this._poolFirst=null,this._origConfig&&this._origArt&&this.init(this._origArt,this._origConfig)}},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){return this._parent},set:function(t){this.cleanup(),this._parent=t},enumerable:!0,configurable:!0}),t.prototype.init=function(t,e){if(t&&e){this.cleanup(),this._origConfig=e,this._origArt=t,t=Array.isArray(t)?t.slice():[t];var i=this._particleConstructor;this.particleImages=i.parseArt?i.parseArt(t):t,e.alpha?this.startAlpha=s.default.createList(e.alpha):this.startAlpha=new s.default(1,0),e.speed?(this.startSpeed=s.default.createList(e.speed),this.minimumSpeedMultiplier=e.speed.minimumSpeedMultiplier||1):(this.minimumSpeedMultiplier=1,this.startSpeed=new s.default(0,0));var r,a=e.acceleration;switch(a&&(a.x||a.y)?(this.startSpeed.next=null,this.acceleration=new PIXI.Point(a.x,a.y),this.maxSpeed=e.maxSpeed||NaN):this.acceleration=new PIXI.Point,e.scale?(this.startScale=s.default.createList(e.scale),this.minimumScaleMultiplier=e.scale.minimumScaleMultiplier||1):(this.startScale=new s.default(1,0),this.minimumScaleMultiplier=1),e.color?this.startColor=s.default.createList(e.color):this.startColor=new s.default({r:255,g:255,b:255},0),e.startRotation?(this.minStartRotation=e.startRotation.min,this.maxStartRotation=e.startRotation.max):this.minStartRotation=this.maxStartRotation=0,e.noRotation&&(this.minStartRotation||this.maxStartRotation)?this.noRotation=!!e.noRotation:this.noRotation=!1,e.rotationSpeed?(this.minRotationSpeed=e.rotationSpeed.min,this.maxRotationSpeed=e.rotationSpeed.max):this.minRotationSpeed=this.maxRotationSpeed=0,this.minLifetime=e.lifetime.min,this.maxLifetime=e.lifetime.max,this.particleBlendMode=n.default.getBlendMode(e.blendMode),e.ease?this.customEase="function"==typeof e.ease?e.ease:n.default.generateEase(e.ease):this.customEase=null,i.parseData?this.extraData=i.parseData(e.extraData):this.extraData=e.extraData||null,this.spawnRect=this.spawnCircle=null,this.particlesPerWave=1,e.particlesPerWave&&e.particlesPerWave>1&&(this.particlesPerWave=e.particlesPerWave),this.particleSpacing=0,this.angleStart=0,e.spawnType){case"rect":this.spawnType="rect",this._spawnFunc=this._spawnRect;var o=e.spawnRect;this.spawnRect=new PIXI.Rectangle(o.x,o.y,o.w,o.h);break;case"circle":this.spawnType="circle",this._spawnFunc=this._spawnCircle,r=e.spawnCircle,this.spawnCircle=new PIXI.Circle(r.x,r.y,r.r);break;case"ring":this.spawnType="ring",this._spawnFunc=this._spawnRing,r=e.spawnCircle,this.spawnCircle=new PIXI.Circle(r.x,r.y,r.r),this.spawnCircle.minRadius=r.minR;break;case"burst":this.spawnType="burst",this._spawnFunc=this._spawnBurst,this.particleSpacing=e.particleSpacing,this.angleStart=e.angleStart?e.angleStart:0;break;case"point":default:this.spawnType="point",this._spawnFunc=this._spawnPoint}this.frequency=e.frequency,this.spawnChance="number"==typeof e.spawnChance&&e.spawnChance>0?e.spawnChance:1,this.emitterLifetime=e.emitterLifetime||-1,this.maxParticles=e.maxParticles>0?e.maxParticles:1e3,this.addAtBack=!!e.addAtBack,this.rotation=0,this.ownerPos=new PIXI.Point,this.spawnPos=new PIXI.Point(e.pos.x,e.pos.y),this._prevEmitterPos=this.spawnPos.clone(),this._prevPosIsValid=!1,this._spawnTimer=0,this.emit=void 0===e.emit||!!e.emit,this.autoUpdate=void 0!==e.autoUpdate&&!!e.autoUpdate}},t.prototype.recycle=function(t){t.next&&(t.next.prev=t.prev),t.prev&&(t.prev.next=t.next),t==this._activeParticlesLast&&(this._activeParticlesLast=t.prev),t==this._activeParticlesFirst&&(this._activeParticlesFirst=t.next),t.prev=null,t.next=this._poolFirst,this._poolFirst=t,t.parent&&t.parent.removeChild(t),--this.particleCount},t.prototype.rotate=function(t){if(this.rotation!=t){var e=t-this.rotation;this.rotation=t,n.default.rotatePoint(e,this.spawnPos),this._posChanged=!0}},t.prototype.updateSpawnPos=function(t,e){this._posChanged=!0,this.spawnPos.x=t,this.spawnPos.y=e},t.prototype.updateOwnerPos=function(t,e){this._posChanged=!0,this.ownerPos.x=t,this.ownerPos.y=e},t.prototype.resetPositionTracking=function(){this._prevPosIsValid=!1},Object.defineProperty(t.prototype,"emit",{get:function(){return this._emit},set:function(t){this._emit=!!t,this._emitterLife=this.emitterLifetime},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"autoUpdate",{get:function(){return this._autoUpdate},set:function(t){this._autoUpdate&&!t?a.remove(this.update,this):!this._autoUpdate&&t&&a.add(this.update,this),this._autoUpdate=!!t},enumerable:!0,configurable:!0}),t.prototype.playOnceAndDestroy=function(t){this.autoUpdate=!0,this.emit=!0,this._destroyWhenComplete=!0,this._completeCallback=t},t.prototype.playOnce=function(t){this.emit=!0,this._completeCallback=t},t.prototype.update=function(t){if(this._autoUpdate&&(t=t/PIXI.settings.TARGET_FPMS/1e3),this._parent){var e,i,n,r,s;for(i=this._activeParticlesFirst;i;i=n)n=i.next,i.update(t);this._prevPosIsValid&&(r=this._prevEmitterPos.x,s=this._prevEmitterPos.y);var a=this.ownerPos.x+this.spawnPos.x,o=this.ownerPos.y+this.spawnPos.y;if(this._emit)for(this._spawnTimer-=t;this._spawnTimer<=0;){if(this._emitterLife>0&&(this._emitterLife-=this._frequency,this._emitterLife<=0)){this._spawnTimer=0,this._emitterLife=0,this.emit=!1;break}if(this.particleCount>=this.maxParticles)this._spawnTimer+=this._frequency;else{var l=void 0;if(l=this.minLifetime==this.maxLifetime?this.minLifetime:Math.random()*(this.maxLifetime-this.minLifetime)+this.minLifetime,-this._spawnTimer<l){var h=void 0,u=void 0;if(this._prevPosIsValid&&this._posChanged){var c=1+this._spawnTimer/t;h=(a-r)*c+r,u=(o-s)*c+s}else h=a,u=o;e=0;for(var p=Math.min(this.particlesPerWave,this.maxParticles-this.particleCount);e<p;++e)if(!(this.spawnChance<1&&Math.random()>=this.spawnChance)){var d=void 0;if(this._poolFirst?(d=this._poolFirst,this._poolFirst=this._poolFirst.next,d.next=null):d=new this.particleConstructor(this),this.particleImages.length>1?d.applyArt(this.particleImages[Math.floor(Math.random()*this.particleImages.length)]):d.applyArt(this.particleImages[0]),d.alphaList.reset(this.startAlpha),1!=this.minimumSpeedMultiplier&&(d.speedMultiplier=Math.random()*(1-this.minimumSpeedMultiplier)+this.minimumSpeedMultiplier),d.speedList.reset(this.startSpeed),d.acceleration.x=this.acceleration.x,d.acceleration.y=this.acceleration.y,d.maxSpeed=this.maxSpeed,1!=this.minimumScaleMultiplier&&(d.scaleMultiplier=Math.random()*(1-this.minimumScaleMultiplier)+this.minimumScaleMultiplier),d.scaleList.reset(this.startScale),d.colorList.reset(this.startColor),this.minRotationSpeed==this.maxRotationSpeed?d.rotationSpeed=this.minRotationSpeed:d.rotationSpeed=Math.random()*(this.maxRotationSpeed-this.minRotationSpeed)+this.minRotationSpeed,d.noRotation=this.noRotation,d.maxLife=l,d.blendMode=this.particleBlendMode,d.ease=this.customEase,d.extraData=this.extraData,this._spawnFunc(d,h,u,e),d.init(),d.update(-this._spawnTimer),d.parent){var f=this._parent.children;if(f[0]==d)f.shift();else if(f[f.length-1]==d)f.pop();else{var g=f.indexOf(d);f.splice(g,1)}this.addAtBack?f.unshift(d):f.push(d)}else this.addAtBack?this._parent.addChildAt(d,0):this._parent.addChild(d);this._activeParticlesLast?(this._activeParticlesLast.next=d,d.prev=this._activeParticlesLast,this._activeParticlesLast=d):this._activeParticlesLast=this._activeParticlesFirst=d,++this.particleCount}}this._spawnTimer+=this._frequency}}this._posChanged&&(this._prevEmitterPos.x=a,this._prevEmitterPos.y=o,this._prevPosIsValid=!0,this._posChanged=!1),this._emit||this._activeParticlesFirst||(this._completeCallback&&this._completeCallback(),this._destroyWhenComplete&&this.destroy())}},t.prototype._spawnPoint=function(t,e,i){this.minStartRotation==this.maxStartRotation?t.rotation=this.minStartRotation+this.rotation:t.rotation=Math.random()*(this.maxStartRotation-this.minStartRotation)+this.minStartRotation+this.rotation,t.position.x=e,t.position.y=i},t.prototype._spawnRect=function(t,e,i){this.minStartRotation==this.maxStartRotation?t.rotation=this.minStartRotation+this.rotation:t.rotation=Math.random()*(this.maxStartRotation-this.minStartRotation)+this.minStartRotation+this.rotation,o.x=Math.random()*this.spawnRect.width+this.spawnRect.x,o.y=Math.random()*this.spawnRect.height+this.spawnRect.y,0!==this.rotation&&n.default.rotatePoint(this.rotation,o),t.position.x=e+o.x,t.position.y=i+o.y},t.prototype._spawnCircle=function(t,e,i){this.minStartRotation==this.maxStartRotation?t.rotation=this.minStartRotation+this.rotation:t.rotation=Math.random()*(this.maxStartRotation-this.minStartRotation)+this.minStartRotation+this.rotation,o.x=Math.random()*this.spawnCircle.radius,o.y=0,n.default.rotatePoint(360*Math.random(),o),o.x+=this.spawnCircle.x,o.y+=this.spawnCircle.y,0!==this.rotation&&n.default.rotatePoint(this.rotation,o),t.position.x=e+o.x,t.position.y=i+o.y},t.prototype._spawnRing=function(t,e,i){var r=this.spawnCircle;this.minStartRotation==this.maxStartRotation?t.rotation=this.minStartRotation+this.rotation:t.rotation=Math.random()*(this.maxStartRotation-this.minStartRotation)+this.minStartRotation+this.rotation,r.minRadius==r.radius?o.x=Math.random()*(r.radius-r.minRadius)+r.minRadius:o.x=r.radius,o.y=0;var s=360*Math.random();t.rotation+=s,n.default.rotatePoint(s,o),o.x+=this.spawnCircle.x,o.y+=this.spawnCircle.y,0!==this.rotation&&n.default.rotatePoint(this.rotation,o),t.position.x=e+o.x,t.position.y=i+o.y},t.prototype._spawnBurst=function(t,e,i,n){0===this.particleSpacing?t.rotation=360*Math.random():t.rotation=this.angleStart+this.particleSpacing*n+this.rotation,t.position.x=e,t.position.y=i},t.prototype.cleanup=function(){var t,e;for(t=this._activeParticlesFirst;t;t=e)e=t.next,this.recycle(t),t.parent&&t.parent.removeChild(t);this._activeParticlesFirst=this._activeParticlesLast=null,this.particleCount=0},t.prototype.destroy=function(){var t;this.autoUpdate=!1,this.cleanup();for(var e=this._poolFirst;e;e=t)t=e.next,e.destroy();this._poolFirst=this._parent=this.particleImages=this.spawnPos=this.ownerPos=this.startColor=this.startScale=this.startAlpha=this.startSpeed=this.customEase=this._completeCallback=null},t}();i.default=l},{"./Particle":3,"./ParticleUtils":4,"./PropertyNode":7}],3:[function(t,e,i){"use strict";var n,r=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(i,"__esModule",{value:!0});var s=t("./ParticleUtils"),a=t("./PropertyList"),o=function(t){function e(i){var n=t.call(this)||this;return n.emitter=i,n.anchor.x=n.anchor.y=.5,n.velocity=new PIXI.Point,n.maxLife=0,n.age=0,n.ease=null,n.extraData=null,n.alphaList=new a.default,n.speedList=new a.default,n.speedMultiplier=1,n.acceleration=new PIXI.Point,n.maxSpeed=NaN,n.scaleList=new a.default,n.scaleMultiplier=1,n.colorList=new a.default(!0),n._doAlpha=!1,n._doScale=!1,n._doSpeed=!1,n._doAcceleration=!1,n._doColor=!1,n._doNormalMovement=!1,n._oneOverLife=0,n.next=null,n.prev=null,n.init=n.init,n.Particle_init=e.prototype.init,n.update=n.update,n.Particle_update=e.prototype.update,n.Sprite_destroy=t.prototype.destroy,n.Particle_destroy=e.prototype.destroy,n.applyArt=n.applyArt,n.kill=n.kill,n}return r(e,t),e.prototype.init=function(){this.age=0,this.velocity.x=this.speedList.current.value*this.speedMultiplier,this.velocity.y=0,s.default.rotatePoint(this.rotation,this.velocity),this.noRotation?this.rotation=0:this.rotation*=s.default.DEG_TO_RADS,this.rotationSpeed*=s.default.DEG_TO_RADS,this.alpha=this.alphaList.current.value,this.scale.x=this.scale.y=this.scaleList.current.value,this._doAlpha=!!this.alphaList.current.next,this._doSpeed=!!this.speedList.current.next,this._doScale=!!this.scaleList.current.next,this._doColor=!!this.colorList.current.next,this._doAcceleration=0!==this.acceleration.x||0!==this.acceleration.y,this._doNormalMovement=this._doSpeed||0!==this.speedList.current.value||this._doAcceleration,this._oneOverLife=1/this.maxLife;var t=this.colorList.current.value;this.tint=s.default.combineRGBComponents(t.r,t.g,t.b),this.visible=!0},e.prototype.applyArt=function(t){this.texture=t||PIXI.Texture.EMPTY},e.prototype.update=function(t){if(this.age+=t,this.age>=this.maxLife)return this.kill(),-1;var e=this.age*this._oneOverLife;if(this.ease&&(e=4==this.ease.length?this.ease(e,0,1,1):this.ease(e)),this._doAlpha&&(this.alpha=this.alphaList.interpolate(e)),this._doScale){var i=this.scaleList.interpolate(e)*this.scaleMultiplier;this.scale.x=this.scale.y=i}if(this._doNormalMovement){if(this._doSpeed){var n=this.speedList.interpolate(e)*this.speedMultiplier;s.default.normalize(this.velocity),s.default.scaleBy(this.velocity,n)}else if(this._doAcceleration&&(this.velocity.x+=this.acceleration.x*t,this.velocity.y+=this.acceleration.y*t,this.maxSpeed)){var r=s.default.length(this.velocity);r>this.maxSpeed&&s.default.scaleBy(this.velocity,this.maxSpeed/r)}this.position.x+=this.velocity.x*t,this.position.y+=this.velocity.y*t}return this._doColor&&(this.tint=this.colorList.interpolate(e)),0!==this.rotationSpeed?this.rotation+=this.rotationSpeed*t:this.acceleration&&!this.noRotation&&(this.rotation=Math.atan2(this.velocity.y,this.velocity.x)),e},e.prototype.kill=function(){this.emitter.recycle(this)},e.prototype.destroy=function(){this.parent&&this.parent.removeChild(this),this.Sprite_destroy(),this.emitter=this.velocity=this.colorList=this.scaleList=this.alphaList=this.speedList=this.ease=this.next=this.prev=null},e.parseArt=function(t){var e;for(e=t.length;e>=0;--e)"string"==typeof t[e]&&(t[e]=PIXI.Texture.fromImage(t[e]));if(s.default.verbose)for(e=t.length-1;e>0;--e)if(t[e].baseTexture!=t[e-1].baseTexture){window.console&&console.warn("PixiParticles: using particle textures from different images may hinder performance in WebGL");break}return t},e.parseData=function(t){return t},e}(PIXI.Sprite);i.default=o},{"./ParticleUtils":4,"./PropertyList":6}],4:[function(t,e,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0});var n=PIXI.BLEND_MODES,r=t("./PropertyNode"),s={verbose:!1,DEG_TO_RADS:Math.PI/180,rotatePoint:function(t,e){if(t){t*=s.DEG_TO_RADS;var i=Math.sin(t),n=Math.cos(t),r=e.x*n-e.y*i,a=e.x*i+e.y*n;e.x=r,e.y=a}},combineRGBComponents:function(t,e,i){return t<<16|e<<8|i},normalize:function(t){var e=1/s.length(t);t.x*=e,t.y*=e},scaleBy:function(t,e){t.x*=e,t.y*=e},length:function(t){return Math.sqrt(t.x*t.x+t.y*t.y)},hexToRGB:function(t,e){var i;return e||(e={}),"#"==t.charAt(0)?t=t.substr(1):0===t.indexOf("0x")&&(t=t.substr(2)),8==t.length&&(i=t.substr(0,2),t=t.substr(2)),e.r=parseInt(t.substr(0,2),16),e.g=parseInt(t.substr(2,2),16),e.b=parseInt(t.substr(4,2),16),i&&(e.a=parseInt(i,16)),e},generateEase:function(t){var e=t.length,i=1/e;return function(n){var r,s,a=e*n|0;return r=(n-a*i)*e,(s=t[a]||t[e-1]).s+r*(2*(1-r)*(s.cp-s.s)+r*(s.e-s.s))}},getBlendMode:function(t){if(!t)return n.NORMAL;for(t=t.toUpperCase();t.indexOf(" ")>=0;)t=t.replace(" ","_");return n[t]||n.NORMAL},createSteppedGradient:function(t,e){void 0===e&&(e=10),("number"!=typeof e||e<=0)&&(e=10);var i=new r.default(t[0].value,t[0].time);i.isStepped=!0;for(var n=i,a=t[0],o=1,l=t[o],h=1;h<e;++h){for(var u=h/e;u>l.time;)a=l,l=t[++o];u=(u-a.time)/(l.time-a.time);var c=s.hexToRGB(a.value),p=s.hexToRGB(l.value),d={};d.r=(p.r-c.r)*u+c.r,d.g=(p.g-c.g)*u+c.g,d.b=(p.b-c.b)*u+c.b,n.next=new r.default(d,h/e),n=n.next}return i}};i.default=s},{"./PropertyNode":7}],5:[function(t,e,i){"use strict";var n,r=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(i,"__esModule",{value:!0});var s=t("./ParticleUtils"),a=t("./Particle"),o=new PIXI.Point,l=["pow","sqrt","abs","floor","round","ceil","E","PI","sin","cos","tan","asin","acos","atan","atan2","log"],h=new RegExp(["[01234567890\\.\\*\\-\\+\\/\\(\\)x ,]"].concat(l).join("|"),"g"),u=function(t){function e(e){var i=t.call(this,e)||this;return i.path=null,i.initialRotation=0,i.initialPosition=new PIXI.Point,i.movement=0,i}return r(e,t),e.prototype.init=function(){this.initialRotation=this.rotation,this.Particle_init(),this.path=this.extraData.path,this._doNormalMovement=!this.path,this.movement=0,this.initialPosition.x=this.position.x,this.initialPosition.y=this.position.y},e.prototype.update=function(t){var e=this.Particle_update(t);if(e>=0&&this.path){var i=this.speedList.interpolate(e)*this.speedMultiplier;this.movement+=i*t,o.x=this.movement,o.y=this.path(this.movement),s.default.rotatePoint(this.initialRotation,o),this.position.x=this.initialPosition.x+o.x,this.position.y=this.initialPosition.y+o.y}return e},e.prototype.destroy=function(){this.Particle_destroy(),this.path=this.initialPosition=null},e.parseArt=function(t){return a.default.parseArt(t)},e.parseData=function(t){var e={};if(t&&t.path)try{e.path=function(t){for(var e=t.match(h),i=e.length-1;i>=0;--i)l.indexOf(e[i])>=0&&(e[i]="Math."+e[i]);return t=e.join(""),new Function("x","return "+t+";")}(t.path)}catch(t){s.default.verbose&&console.error("PathParticle: error in parsing path expression"),e.path=null}else s.default.verbose&&console.error("PathParticle requires a path string in extraData!"),e.path=null;return e},e}(a.default);i.default=u},{"./Particle":3,"./ParticleUtils":4}],6:[function(t,e,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0});var n=t("./ParticleUtils"),r=function(){function t(t){void 0===t&&(t=!1),this.current=null,this.next=null,this.isColor=!!t,this.interpolate=null,this.ease=null}return t.prototype.reset=function(t){this.current=t,this.next=t.next,this.next&&this.next.time>=1?this.interpolate=this.isColor?a:s:t.isStepped?this.interpolate=this.isColor?u:h:this.interpolate=this.isColor?l:o,this.ease=this.current.ease},t}();function s(t){return this.ease&&(t=this.ease(t)),(this.next.value-this.current.value)*t+this.current.value}function a(t){this.ease&&(t=this.ease(t));var e=this.current.value,i=this.next.value,r=(i.r-e.r)*t+e.r,s=(i.g-e.g)*t+e.g,a=(i.b-e.b)*t+e.b;return n.default.combineRGBComponents(r,s,a)}function o(t){for(this.ease&&(t=this.ease(t));t>this.next.time;)this.current=this.next,this.next=this.next.next;return t=(t-this.current.time)/(this.next.time-this.current.time),(this.next.value-this.current.value)*t+this.current.value}function l(t){for(this.ease&&(t=this.ease(t));t>this.next.time;)this.current=this.next,this.next=this.next.next;t=(t-this.current.time)/(this.next.time-this.current.time);var e=this.current.value,i=this.next.value,r=(i.r-e.r)*t+e.r,s=(i.g-e.g)*t+e.g,a=(i.b-e.b)*t+e.b;return n.default.combineRGBComponents(r,s,a)}function h(t){for(this.ease&&(t=this.ease(t));this.next&&t>this.next.time;)this.current=this.next,this.next=this.next.next;return this.current.value}function u(t){for(this.ease&&(t=this.ease(t));this.next&&t>this.next.time;)this.current=this.next,this.next=this.next.next;var e=this.current.value;return n.default.combineRGBComponents(e.r,e.g,e.b)}i.default=r},{"./ParticleUtils":4}],7:[function(t,e,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0});var n=t("./ParticleUtils"),r=function(){function t(t,e,i){this.value="string"==typeof t?n.default.hexToRGB(t):t,this.time=e,this.next=null,this.isStepped=!1,this.ease=i?"function"==typeof i?i:n.default.generateEase(i):null}return t.createList=function(e){if(Array.isArray(e.list)){var i=e.list,n=void 0,r=void 0;if(r=n=new t(i[0].value,i[0].time,e.ease),i.length>2||2===i.length&&i[1].value!==i[0].value)for(var s=1;s<i.length;++s)n.next=new t(i[s].value,i[s].time),n=n.next;return r.isStepped=!!e.isStepped,r}var a=new t(e.start,0);return e.end!==e.start&&(a.next=new t(e.end,1)),a},t}();i.default=r},{"./ParticleUtils":4}],8:[function(t,e,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0});var n=t("./ParticleUtils.js");i.ParticleUtils=n.default;var r=t("./Particle.js");i.Particle=r.default;var s=t("./Emitter.js");i.Emitter=s.default;var a=t("./PathParticle.js");i.PathParticle=a.default;var o=t("./AnimatedParticle.js");i.AnimatedParticle=o.default},{"./AnimatedParticle.js":1,"./Emitter.js":2,"./Particle.js":3,"./ParticleUtils.js":4,"./PathParticle.js":5}],9:[function(t,e,i){"use strict";if(Object.defineProperty(i,"__esModule",{value:!0}),"undefined"==typeof PIXI)throw"pixi-particles requires pixi.js to be loaded first";PIXI.particles||(PIXI.particles={});var n=t("./particles");for(var r in n)PIXI.particles[r]=n[r]},{"./particles":8}]},{},[9])(9)},t.exports=r()},function(t,e,i){"use strict";var n;Object.defineProperty(e,"__esModule",{value:!0}),function(t){t[t.left=0]="left",t[t.right=1]="right"}(n=e.Side||(e.Side={}));var r=.05;e.default=function(t){var e={left:[],right:[]};function i(t){var i=t===n.left?100:300,s=(t===n.left?e.left:e.right).length,a=r*s;return{x:i+a,y:250+a}}for(var s=new PIXI.Container,a=new PIXI.Container,o=0;o<144;o++){var l=new PIXI.Sprite(PIXI.loader.resources.card.texture);l.anchor.set(.5),l.scale.set(100/l.width);var h=i(n.left),u=h.x,c=h.y;l.x=u,l.y=c,l.zIndex=o,e.left.push(l),s.addChild(l)}t.stage.addChild(s),t.stage.addChild(a);var p=setInterval(function(){var r=function(){var t=e.left.pop();if(t){var r=e.right.push(t);t.zIndex=144+r;var s=i(n.right);return{card:t,x:s.x,y:s.y}}}();if(r){var o=r.card,l=r.x,h=r.y;s.cacheAsBitmap=!1,s.removeChild(o),s.cacheAsBitmap=!0,a.addChild(o);var u=Date.now(),c=o.position.x,p=o.position.y,d=function(){var e=Date.now(),i=Math.min(1,(e-u)/2e3);i>=1&&(t.ticker.remove(d),a.removeChild(o),s.cacheAsBitmap=!1,s.addChild(o),s.cacheAsBitmap=!0);var n,r=(n=i)<.5?2*n*n:(4-2*n)*n-1;o.position.set(c+(l-c)*r,p+(h-p)*r)};t.ticker.add(d)}},1e3);return function(){clearInterval(p),t.stage.removeChild(s),s.destroy()}}},function(t,e,i){"use strict";function n(t,e,i){for(var n=new PIXI.Text("DUMMY",i).height,r=t.map(function(t){return"string"==typeof t?new PIXI.Text(t,i):(r=e[t],s=n,(a=new PIXI.Sprite(r)).scale.set(s/a.height),a);var r,s,a}),s=0,a=new PIXI.Container,o=0,l=r;o<l.length;o++){var h=l[o];h.position.x=s,s+=h.width,a.addChild(h)}return a}function r(t){var e=PIXI.loader.resources[t].textures,i=null;return e&&(i=Object.keys(e).map(function(t){return e[t]}),console.log(i)),{textRenderer:function(t,e){return n(t,i,e)},numImages:Object.keys(e).length}}Object.defineProperty(e,"__esModule",{value:!0}),e.default=r;var s="Lorizzle ipsum bling bling sit amizzle, consectetuer adipiscing elit. Nizzle sapien velizzle, bling bling volutpat, suscipit, gravida vel, arcu. Check it out hizzle thats the shizzle. We gonna chung erizzle. Fo izzle dolor fo turpis tempizzle tempor. Gangsta boom shackalack mofo et turpizzle. Sizzle izzle tortor. Pellentesque uhuh ... yih!".split(" ");function a(t){var e=Math.ceil(10*Math.random());return Array.apply(null,Array(e)).map(function(){return Math.random()<.7?s[Math.floor(Math.random()*s.length)]+" ":Math.floor(Math.random()*t)})}e.drawRandomTextWithImages=function(t){var e=r("candies"),i=e.textRenderer,n=e.numImages;console.log(t);var s=setInterval(function(){var e=i(a(n),{fill:"white",fontSize:10*Math.random()+14});e.position.set(Math.random()*(500-e.width),Math.random()*(500-e.height)),t.addChild(e),setTimeout(function(){return t.removeChild(e)},8e3*Math.random())},2e3);return function(){clearInterval(s)}}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t){var e=new PIXI.particles.ParticleContainer;console.log(PIXI.loader.resources.flame.textures);var i=Object.keys(PIXI.loader.resources.flame.textures).map(function(t){return PIXI.loader.resources.flame.textures[t]});console.log(i);var n=new PIXI.particles.Emitter(e,[{textures:i,framerate:10,loop:!1}],{alpha:{start:.5,end:.1},scale:{start:.01,end:3},lifetime:{min:.8,max:.96},frequency:.1,emitterLifetime:-1,maxParticles:10,pos:{x:250,y:500},addAtBack:!1,spawnType:"rect",spawnRect:{x:-250,y:0,w:500,h:0},emit:!1,autoUpdate:!0,particleConstructor:PIXI.particles.AnimatedParticle});return n.particleConstructor=PIXI.particles.AnimatedParticle,n.emit=!0,e.position.set(0),t.stage.addChild(e),function(){t.stage.removeChild(e),n.emit=!1,e.destroy()}}}]);
//# sourceMappingURL=index.bundle.min.js.map